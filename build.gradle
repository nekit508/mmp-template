plugins {
    id "com.github.nekit508.mindustry-mod-plugin" version "$nmpVersion" apply true
}

allprojects.each {project ->
    project.repositories {
        mavenCentral()
        mavenLocal()
        maven { url "https://raw.githubusercontent.com/Zelaux/MindustryRepo/master/repository" }
        maven { url "https://www.jitpack.io" }
    }

    project.repositories {
        mavenCentral()
    }

    project.apply plugin: "java"

    project.sourceSets.main.java.srcDirs = ["src"]
    project.sourceSets.main.resources.srcDirs = ["res"]
}

nmp {
    settings.configure {
        modName.set project.name
        modGroup.set "com.github.template"                  // reconfigure it
        modVersion.set prop("modVersion")
        mindustryVersion.set prop("mindustryVersion")
        generateModInfo.set true
    }

    genericInit()
}

tasks.nmpGenerateModInfo {
    modMain = "com.github.template.core.ModCore"            // reconfigure it

    modAuthor = "u"                                         // reconfigure it
    modDescription = "MMP Template mod."                    // reconfigure it
    modRepo = "https://github.com/nekit508/mindustry-mod-plugin"
}